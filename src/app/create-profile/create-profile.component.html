<body>
  <div>
   <h1 class="title">Let's Update Your Profile!</h1>
    <br>
    <h4 class="subHeading">You can view and update your current profile, or create another one below!</h4>
  </div>
  <br>

  <div>
  <h2>Current profiles</h2>
  <br>

  <!-- Table headers -->
  <div>
    <table class="table">
      <thead>
        <tr class="heading">
          <th> #</th>
          <th> First  </th> 
          <th> Middle </th>
          <th> Last  </th>
          <th> Address</th>
          <th> Email </th>
          <th> Location </th>
        </tr>
      </thead>
  <br>
  <br>
      <body>

      
  <!-- grabs profiles from the backend -->
     <tr *ngFor="let profile of allProfiles; index as i" >
      <td>{{i + 1}}</td>
      <td>{{profile.fname}}</td>
      <td>{{profile.mname}}</td>
      <td>{{profile.lname}}</td>
      <br><td>{{profile.taddress}}</td>
      <td>{{profile.temailAddress}}</td>
      <td>{{profile.tlocation}}</td><br><br>
    

      <td><button (click)="onEditClicked(profile.id)">Edit</button></td>
      <td><button (click)="onDeleteProfile(profile.id)">Delete</button></td>
     </tr>
    </body>
   </table>
   
  </div>
  <br>
  <br>
  <h2>Create New Profile Below</h2>
  <h6 style="color: red;">* indicates required field</h6>
  <br>
  </div>

  <div class="container">
    <div class="form">

      <form #cForm="ngForm"   (ngSubmit)="onProfileCreate(cForm.value)" name="cForm">
       
        <label>*First Name</label><br>
        <input  type="text"  name="fname" #name="ngModel"  ngModel required >
        <div *ngIf="name.invalid && name.touched">
          <small class="small">First name is required</small>
        </div>
        <br>
        <br>

        <label>Middle Name</label><br>
        <input   type="text" name="mname" #name="ngModel" ngModel  >
        <br>
        <br>

        <label>*Last Name</label><br>
        <input  type="text" name="lname" #lname="ngModel" ngModel required  >
        <div *ngIf="lname.invalid && lname.touched">
          <small class="small">Last name is required</small>
        </div>
        <br>
        <br>
        
        <label>*Street Address</label><br>
        <input   name="taddress" type="text"  #Aname="ngModel" ngModel required>
        <div *ngIf="Aname.invalid && Aname.touched">
          <small class="small">Address is required </small>
        </div>
        <br>
        <br>
        
        <label>*Email Address</label><br>
        <input  type="email" name="temailAddress"   #Ename="ngModel" ngModel email required >
        <div *ngIf="Ename.touched && !Ename.valid">
          <small style="color:red">This is not a valid email address</small>
     
        </div>
        <br>
        <br>
        
        <label>*Work Location</label><br>
        <input   type="text" name="tlocation" #Wname="ngModel" placeholder="virtual or in-person" ngModel required>
        <div *ngIf="Wname.invalid && Wname.touched">
          <small class="small">Location is required</small>
        </div>
        <br>
        <br>
    
        <label>Id</label><br>
        <input name="id" type="text"  #name="ngModel" ngModel ><br><br>
       
        <input type="submit"  value="{{ !editmode ?  'Create Profile'  : 'Update Profile'}}" [disabled]="!cForm.valid">
            
      </form>
     
    </div>
  </div>
</body>


